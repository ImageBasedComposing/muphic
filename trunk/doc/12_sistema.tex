\chapter{Sistema}

\section{Requisitos}
\todo{Ampliar, desarrollar, repasar y juntar las que sean redundantes o juntables (valgame la redundancia)}
Los usuarios con los que trabajaremos para delimitar los requisitos son:
\begin{itemize}
	\item Usuario: Personas con un conocimiento mínimo o nulo sobré música y ofimática que hayan leído o se les haya explicado el funcionamiento de la aplicación
	\item Desarrollador: Personas con un conocimiento amplio de programación y con conocimiento básico o avanzado de música.
\end{itemize}
Los requisitos funcionales del proyecto son:
\\Para la interfaz gráfica:
 \begin{itemize}
	 \item La interfaz deberá ser capaz de interpretar archivos de imagen del formato .png y mostrarlos por pantalla
	 \item La interfaz deberá ser capaz de interpretar archivos de audio del formato .wav y permitir funciones básicas de reproducción sobre los mismos
	 \item La interfaz deberá ser capaz de generar un archivo de configuración interpretable por tanto Mu como Phic a partir de los parámetros de entrada establecidos por el usuario.
	 \item La interfaz deberá de ser capaz de, mediante una llamada a otro programa, mostrar la partitura de la música compuesta tras haber sido generada.
	 \item La interfaz deberá controlar posibles errores cometidos por el usuario por tocar parámetros no disponibles para la configuración seleccionada, a su vez deberá de limitar las acciones del usuario a la hora de modificar dichos parámetros según las configuraciones elegidas.
 \end{itemize}
 Para Phic:
 \begin{itemize}
	\item El analizador deberá recibir un archivo de configuración que determine como realizar el análisis y un archivo de imagen que analizar
	\item El analizador deberá generar un archivo XML con los siguientes datos:
	\begin{itemize}
		\item Los vértices de las figuras que componen la imagen de entrada y el número total de vértices por figura.
		\item Los  colores que contienen dichas figuras en formato RGB
		\item Las figuras estarán organizadas jerárquicamente al igual que se presentan en la imagen, es decir, si una figura está dentro de otra en el XML se verá reflejado siendo la segunda figura un elemento incluido en la primera.
	\end{itemize}
	\item El analizador deberá de devolver una imagen con la representación poligonal de la imagen de entrada.
 \end{itemize}
 Para Mu:
 \begin{itemize}
	\item El compositor deberá de recibir un archivo de configuración y un archivo con los resultados del análisis correctamente estructurados.
	\item El compositor deberá generar un archivo abc interpretable por cualquier programa que pueda recibir como entrada dicho tipo de archivos.
	\item El compositor deberá de ser capaz de llamar a terceros que transformen el archivo abc generado a los formatos midi y wav.
 \end{itemize}
Requisitos no funcionales:
\\Generales o/y GUI:
\begin{itemize}
	\item La aplicación facilitará al usuario la entrada de datos de configuración o imágenes que desee analizar.
	\item La aplicación facilitará al usuario los resultados del análisis hecho de la imagén de entrada.
	\item La aplicación producirá archivos de audio como resultados de la composición capaces de ser reproducidos en cualquier sistema con soporte básico de audio.
	\item La aplicación facilitará la reproducción de estos archivos al usuario con un reproductor de música incrustado.
	\item La aplicación facilitará el establecimiento del directorio destino de los archivos de audio.
	\item La aplicación facilitará la partitura compuesta por ella misma tras haberse generado la música.
\end{itemize}
Phic:
\begin{itemize}
	\item Al menos uno de los analizadores devolverá un análisis que se asemeje a ''primera vista'' a la imagen original
\end{itemize}
Mu:
\begin{itemize}
	\item El compositor mediante su estructura interna facilitará al desarrollador la creación de nuevos algoritmos de composición.
	\item El compositor principal de la aplicación deberá de ser capaz de generar una música que no tenga porque ser ''interesante'' pero que ''no sonará mal'' en ambos casos los resultados en ultima instancia dependerán de la opinión subjetiva del usuario
\end{itemize}
\todo{Pendiente de hacerse, ideas:\\

	requisitos\\
	\begin{itemize}
		\item analizar imágenes a un formato directo de composición
		componer análisis
		\item permitir variar parámetros de análisis
		\item permitir variar parámetros de composición
		\item multiplataforma\\
	\end{itemize}
		
		
	restricciones\\
	\begin{itemize}
		\item el sistema debe ser lo suficientemente flexible como para permitir expandirse con otros lenguajes
		\item el análisis y composición no deben consumir muchos recursos\\
	\end{itemize}
		
	requisitos no funcionales (nombrados en la introducción)\\
	\begin{itemize}	
		\item No se tienen en cuenta objetos físicos en el análisis, solo color
		\item El único componente de entrada usado es la imagen dada, nada de música externa ya creada.
		\item Generación de contenido frente a acoplamiento de creaciones preestablecidas	\\	
	\end{itemize}		
		
		
Casos de uso?

	(análisis: explicar proceso de filtrado y en sistema explicar solo la arquitectura de clases?)
}
\input{14_arquitectura}
\input{15_futuras_ampliaciones}